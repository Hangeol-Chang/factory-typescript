(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{406:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/minesweeper",function(){return n(8607)}])},8607:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n(5893),l=n(7294);let r={hidden:{bgColor:"#AAAAAA",color:""},open:{bgColor:"#EEEEEE",color:""},check:{bgColor:"",color:""},hover:{bgColor:"#444444",color:""}};function a(e){let{className:t,idf:n,tile:a,onClick:u,rightClick:s,size:f}=e,[i,c]=(0,l.useState)(a.state),[h,d]=(0,l.useState)(r[null!=i?i:"primary"]),p=function(){c("hover")},m=function(){c(a.state)};return(0,l.useEffect)(()=>{c(a.state)},[a.state]),(0,l.useEffect)(()=>{d(r[i])},[i]),(0,o.jsx)("button",{className:"\n                m-1                \n                ".concat(t,"\n            "),style:{width:f[0],height:f[1],backgroundColor:h.bgColor},onClick:()=>u(n),onContextMenu:e=>s(e,n),onMouseEnter:()=>p(),onMouseLeave:()=>m(),children:"open"==a.state?(0,o.jsx)(o.Fragment,{children:a.value}):(0,o.jsx)(o.Fragment,{})})}var u=n(4480);let s=(0,u.cn)({key:"mapState",default:[]}),f=(0,u.cn)({key:"mapSizeState",default:[13,13]});function i(){let[e,t]=(0,u.FV)(s),[n,r]=(0,u.FV)(f),[i,c]=(0,l.useState)([]),[h,d]=(0,l.useState)(25),p=function(){console.log("game over")},m=function(o){let l=Math.floor(o/1e3),r=Math.floor(o%1e3),a=[[-1,0],[1,0],[0,-1],[0,1]],u=JSON.parse(JSON.stringify(e)),s=[[l,r]];if(-1==u[l][r].value)u[l][r].state="open",p();else for(;s.length>0;){let e=s.shift();if(!e)return;if(u[e[0]][e[1]].state="open",0==u[e[0]][e[1]].value)for(let t of a){let o=t[0]+e[0],l=t[1]+e[1];o<0||o>=n[0]||l<0||l>=n[1]||"open"==u[o][l].state||s.push([o,l])}}t(u)},v=function(e,t){e.preventDefault()},E=function(){let e=[],t=[];for(let o=0;o<h;o++){let o,l;do o=Math.floor(Math.random()*n[0]),l=Math.floor(Math.random()*n[1]);while(e.includes(1e3*o+l));e.push(1e3*o+l),t.push([o,l])}return c(t),t},g=function(e){let o=[];for(let e=0;e<n[0];e++){let e=[];for(let t=0;t<n[1];t++){let t={state:"hidden",value:0};e.push(t)}o.push(e)}let l=[[-1,0],[1,0],[0,-1],[0,1],[-1,-1],[-1,1],[1,-1],[1,1]];for(let t of e)for(let e of(o[t[0]][t[1]].value=-1,l)){let l=e[0]+t[0],r=e[1]+t[1];if(o[l]&&o[l][r]){if(l<0||l>=n[0]||r<0||r>=n[1]||-1==o[l][r].value)continue;o[l][r].value+=1}}t(o)};return(0,l.useEffect)(()=>{let e=E();g(e)},[]),(0,o.jsxs)("div",{className:"\n                flex flex-col items-center\n            ",children:["지뢰찾기 입니다.",e.map((e,t)=>(0,o.jsx)("div",{className:"\n                        flex\n                        items-center\n                    ",children:e.map((e,n)=>(0,o.jsx)(a,{className:"",idf:1e3*t+n,tile:e,onClick:m,rightClick:v,size:[40,40]},2*n))},2*t))]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=406)}),_N_E=e.O()}]);